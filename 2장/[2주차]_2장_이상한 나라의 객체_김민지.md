# 02 이상한 나라의 객체

- 사람은 함께 행동하는 물체를 하나의 개념으로 인지함 
- -> 뚜렷한 경계를 가진 객체들의 집합으로 세상을 바라봄

## 객체지향과 인지 능력

객체지향을 직관적이고 이해하기 쉬운 패러다임이라고 말하는 이유? <br>
-> 세상을 자율적/독릭접 객체들로 분해할 수 있는 인간의 기본적인 인지 능력에 기반을 두고 있기 때문

- 객체: 분명하게 인지하고 구별할 수 있는 물리적인/개념적인 경계를 지닌 어떤 것
- 세상을 더 작은 객체로 분해함으로써 세상의 복잡성을 극복

<br>

현실 세계와 소프트웨어 세계는 다르다

- 객체지향의 목적: 현실 세계를 기반으로 새로운 세계를 창조하는 것
- -> 소프트웨어 세계는 현실과 비교해 매우 이질적인 모습

## 객체, 그리고 이상한 나라

### 이상한 나라의 앨리스

- 앨리스가 문을 통과하기 위해 음료를 마시고 부채질하고 버섯 먹는 내용 

### 앨리스 객체

- 앨리스의 상태: 앨리스의 키
- 앨리스의 행동: 음료 마시기 or 부채질 하기 or 버섯 먹기 -> 키를 변화시킴

#### 앨리스 객체의 특징 요약
- 앨리스는 상태를 가지며 상태는 변경 가능하다
- 앨리스의 상태를 변경시키는 것은 앨리스의 행동이다
  - 행동의 결과는 **상태에 의존적**이며 상태를 이용해 서술할 수 있다
  - 행동의 순서가 결과에 영향을 미친다
- 앨리스는 어떤 상태에 있더라도 유일하게 식별 가능하다

## 객체, 그리고 소프트웨어 나라

- 객체: 식별 가능한 개체 또는 사물 (구체적인 사물 / 추상적인 개념)
- 객체는 **상태, 행동, 식별자**를 지님

### 상태

#### 왜 상태가 필요한가

- 어떤 행동의 결과는 과거에 어떤 행동들이 일어났느냐에 의존
- 과거의 모든 행동 이력 -> 상태로 표현 (복잡성 완화)

#### 상태와 프로퍼티

- 상태: 특정 시점에 객체가 가지고 있는 정보의 집합
- 프로퍼티: 객체의 상태를 구성하는 모든 특징 (정적)
- 프로퍼티 값: 단순한 값(=속성)이나 링크(연관관계의 인스턴스)로 표현

<br>

- 객체의 상태를 변경하는 것은 객체의 자발적인 행동뿐이다
  -> 다른 객체의 상태에 직접적으로 접근할 수도, 상태를 변경할 수도 없다

### 행동

#### 상태와 행동

- 객체의 행동은 상태에 영향을 받는다<br> 
  -> 상호작용이 현재의 상태에 어떤 방식으로 의존하는가
- 객체의 행동은 상태를 변경시킨다<br>
  -> 상호작용이 어떻게 현재의 상태를 변경시키는가

=> 상태를 이용해 복잡한 객체의 행동을 쉽게 이해할 수 있다

#### 협력과 행동

- 협력: 다른 객체에게 요청을 보내는 것
- 행동: 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동
- 행동의 결과: 자신의 상태 변경 or 다른 객체에게 메시지 전달 (타객체의 상태 변경 유발)
- 객체는 행동을 통해 협력에 참여하므로 **행동은 외부에 가시적**이어야 한다

#### 상태 캡슐화

- 상태: 외부 노출 X, 행동: 외부 노출 O
- 메시지 송신자는 메시지 수신자의 상태 변경에 대해 전혀 알지 못한다
- 객체의 상태를 변경할지 여부는 객체 스스로 결정한다
- 상태를 외부에 노출시키지 않고 **행동을 경계로 캡슐화** -> 객체의 자율성 향상, 유연한 협력

#### 식별자

- 식별자: 객체를 서로 구별할 수 있는 특정한 프로퍼티 (상태 변경에 독립적)
- 값 vs 객체 -> 식별자를 가지는지 여부
- 값: 숫자, 문자열, 날짜 등 변하지 않는 양을 모델링 (불변상태) -> 상태가 같은지로 **동등성** 판단
- 객체: 시간에 따라 변경되는 상태 포함 (가변상태) -> 식별자가 같은지로 **동일성** 판단

#### 정리

- 객체는 상태를 가지며 상태는 변경 가능하다
- 객체의 상태를 변경시키는 것은 객체의 행동이다
  - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다
  - 행동의 순서가 실행 결과에 영향을 미친다
- 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다

## 기계로서의 객체

- 쿼리: 객체의 상태를 조회하는 작업
- 명령: 객체의 상태를 변경하는 작업
- 명령과 쿼리는 객체가 외부에 제공하는 행동
- 어떤 사용자도 직접 기계를 열어 내부 상태에 직접 접근하지 않음! -> 객체의 캡슐화 강조

## 행동이 상태를 결정한다

- 상태가 무엇인지 결정하고 그 상태에 필요한 행동을 결정한다 (X)
  - 캡슐화 저해 
  - 협력 저해
  - 재사용성 저하
- 상태가 아니라 행동에 초점을 맞춘다 (O)
  - 애플리케이션에 필요한 협력을 생각하고
  - 협력에 참여하는 데 필요한 행동을 생각한 후 
  - 행동에 적절한 상태를 선택

## 은유와 객체

- 객체지향이란 현실 세계의 모방이다? (X)
- 모방과 추상화라는 개념만으로는 현실 객체와 소프트웨어 객체 사이의 관계를 깔끔하게 설명하지 못한다

### 의인화

- 현실 vs 소프트웨어 객체 사이의 가장 큰 차이점?
- -> 수동적 존재가 능동적으로 변한다는 것
- 현실 객체가 가지지 못한 추가적인 능력을 보유하게 됨

의인화의 관점에서 소프트웨어를 생물로 생각하자.
모든 생물처럼 소프트웨어는 태어나고, 삶을 영위하고, 그리고 죽는다 (Wirts-Brock 1990)

### 은유

- 모방이나 추상화의 수준이 아닌 다른 관점에서 유사성을 가진다 -> 은유
- 현실 속 객체의 의미 일부가 소프트웨어 객체로 전달되기 때문
- 표현적 차이 or 의미적 차이?
  - 은유 관계에 있는 실제 객체의 이름을 소프트웨어 객체의 이름으로 사용함으로써
  - 둘의 표현적 차이를 줄여
  - 이해하기 쉽고 유지보수가 용이한 소프트웨어를 만든다

### 이상한 나라를 창조하라

- 객체지향 설계자로서 우리의 목적: 현실세계 모방(X), 이상한 나라 창조!
- 현실 속의 객체 이름을 이용해 객체를 묘사하거나
- 자유롭게 우리만의 세계를 창조해라





